import{c as Lt,a as y,d as Mt,e as $,s as L,f as C,g as le}from"../chunks/BYmQm_K7.js";import{i as ue}from"../chunks/C7KLp8Ib.js";import{o as de}from"../chunks/gQM_sqfA.js";import{f as yt,o as mt,z as o,A as d,x as M,F as t,D as i,y as ht,C as A,v as Gt,B as f,ao as at,O as It,a9 as ce}from"../chunks/CkdW0rvu.js";import{I as ve,s as fe,e as E,i as U,b as P,c as H,a as it,d as pe}from"../chunks/DRk26lIn.js";import{i as F}from"../chunks/CWqDlYIa.js";import{b as xe}from"../chunks/DNUzy9Ef.js";import{R as be}from"../chunks/BWV4IzaS.js";import{l as ge,s as ye}from"../chunks/CYp6EUhF.js";import{X as me}from"../chunks/DBzTflVO.js";import{M as he}from"../chunks/CJZtEMyA.js";import{C as _e}from"../chunks/v9HhFJyr.js";import{A as we}from"../chunks/BY-AY7Us.js";import{p as Ne}from"../chunks/IdXIzJAH.js";function Oe(R,l){const b=ge(l,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.555.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const w=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];ve(R,ye({name:"play"},()=>b,{get iconNode(){return w},children:(g,D)=>{var p=Lt(),Y=yt(p);fe(Y,l,"default",{}),y(g,p)},$$slots:{default:!0}}))}function ke(R,l){switch(R){case"AND":return l.every(b=>b);case"OR":return l.some(b=>b);case"NOT":return!l[0];case"NAND":return!l.every(b=>b);case"NOR":return!l.some(b=>b);case"XOR":return l.reduce((b,w)=>b!==w,!1);default:return!1}}function Te(R,l,b,w){const g={};R.inputs.forEach((m,h)=>{g[m.id]=w[h]});let D=!0,p=0;const Y=50;for(;D&&p<Y;)D=!1,p++,l.forEach(m=>{const h=[],G=m.type==="NOT"?1:2;for(let X=0;X<G;X++){const k=b.find(Q=>Q.to===m.id&&Q.toInputIndex===X);k&&g[k.from]!==void 0?h.push(g[k.from]):h.push(!1)}const T=ke(m.type,h);g[m.id]!==T&&(g[m.id]=T,D=!0)});return R.outputs.map(m=>{const h=b.find(G=>G.to===m.id);return h&&g[h.from]!==void 0?g[h.from]:!1})}const gt=[{id:1,title:"The NOT Gate",description:"Invert the signal! If the input is ON (1), the output should be OFF (0), and vice versa.",inputs:[{id:"in1",label:"A",x:30,y:150}],outputs:[{id:"out1",label:"Q",x:320,y:150,required:!0}],availableGates:["NOT"],truthTable:[{inputs:[!1],outputs:[!0]},{inputs:[!0],outputs:[!1]}]},{id:2,title:"The AND Gate",description:"Both inputs must be ON for the output to be ON.",inputs:[{id:"in1",label:"A",x:30,y:100},{id:"in2",label:"B",x:30,y:200}],outputs:[{id:"out1",label:"Q",x:320,y:150,required:!0}],availableGates:["AND"],truthTable:[{inputs:[!1,!1],outputs:[!1]},{inputs:[!1,!0],outputs:[!1]},{inputs:[!0,!1],outputs:[!1]},{inputs:[!0,!0],outputs:[!0]}]},{id:3,title:"The OR Gate",description:"If ANY input is ON, the output is ON.",inputs:[{id:"in1",label:"A",x:30,y:100},{id:"in2",label:"B",x:30,y:200}],outputs:[{id:"out1",label:"Q",x:320,y:150,required:!0}],availableGates:["OR"],truthTable:[{inputs:[!1,!1],outputs:[!1]},{inputs:[!1,!0],outputs:[!0]},{inputs:[!0,!1],outputs:[!0]},{inputs:[!0,!0],outputs:[!0]}]},{id:4,title:"NAND Logic",description:"It's NOT AND. The output is OFF only if both inputs are ON.",inputs:[{id:"in1",label:"A",x:30,y:100},{id:"in2",label:"B",x:30,y:200}],outputs:[{id:"out1",label:"Q",x:320,y:150,required:!0}],availableGates:["NAND"],truthTable:[{inputs:[!1,!1],outputs:[!0]},{inputs:[!1,!0],outputs:[!0]},{inputs:[!0,!1],outputs:[!0]},{inputs:[!0,!0],outputs:[!1]}]},{id:5,title:"XOR Logic",description:"Exclusive OR. The output is ON if the inputs are DIFFERENT.",inputs:[{id:"in1",label:"A",x:30,y:100},{id:"in2",label:"B",x:30,y:200}],outputs:[{id:"out1",label:"Q",x:320,y:150,required:!0}],availableGates:["XOR"],truthTable:[{inputs:[!1,!1],outputs:[!1]},{inputs:[!1,!0],outputs:[!0]},{inputs:[!0,!1],outputs:[!0]},{inputs:[!0,!0],outputs:[!1]}]},{id:6,title:"Combine Gates",description:"Make an OR gate using only NAND gates? (Just kidding, try to match the truth table)",inputs:[{id:"in1",label:"A",x:30,y:100},{id:"in2",label:"B",x:30,y:200}],outputs:[{id:"out1",label:"Q",x:320,y:150,required:!0}],availableGates:["AND","OR","NOT"],truthTable:[{inputs:[!1,!1],outputs:[!1]},{inputs:[!1,!0],outputs:[!0]},{inputs:[!0,!1],outputs:[!0]},{inputs:[!0,!0],outputs:[!1]}]}];var Ae=$('<circle r="5"></circle>'),Re=$('<circle r="6" class="fill-white stroke-gray-400 stroke-2 hover:stroke-blue-500 cursor-pointer"></circle>'),De=$('<g class="cursor-grab active:cursor-grabbing select-none pointer-events-auto"><path fill-opacity="0.2"></path><!><!><circle r="6" class="fill-white stroke-gray-400 stroke-2 hover:stroke-blue-500 cursor-pointer"></circle><text x="35" y="65" text-anchor="middle" class="text-xs font-bold fill-gray-600 pointer-events-none"> </text></g>');function Xe(R,l){mt(l,!0);const b={AND:"fill-blue-500 stroke-blue-700",OR:"fill-green-500 stroke-green-700",NOT:"fill-red-500 stroke-red-700",NAND:"fill-purple-500 stroke-purple-700",NOR:"fill-orange-500 stroke-orange-700",XOR:"fill-yellow-500 stroke-yellow-700"},w=u=>u==="AND"?"M 10,5 L 35,5 A 25,25 0 0 1 35,55 L 10,55 Z":u==="OR"?"M 10,5 Q 25,30 10,55 Q 40,55 60,30 Q 40,5 10,5 Z":u==="NOT"?"M 15,10 L 15,50 L 55,30 Z":u==="XOR"?"M 5,5 Q 20,30 5,55 M 12,5 Q 27,30 12,55 Q 42,55 62,30 Q 42,5 12,5 Z":u==="NAND"?"M 10,5 L 35,5 A 25,25 0 0 1 35,55 L 10,55 Z":u==="NOR"?"M 10,5 Q 25,30 10,55 Q 40,55 60,30 Q 40,5 10,5 Z":"",g=u=>["NOT","NAND","NOR"].includes(u),D=u=>u==="NOT"?{cx:58,cy:30}:u==="NAND"?{cx:63,cy:30}:u==="NOR"?{cx:63,cy:30}:{cx:0,cy:0},p=u=>u==="NOT"?[{x:15,y:30}]:[{x:10,y:15},{x:10,y:45}],Y=u=>g(u)?{x:68,y:30}:u==="XOR"?{x:62,y:30}:u==="OR"?{x:60,y:30}:{x:60,y:30};var m=De();m.__pointerdown=function(...u){var c;(c=l.onPointerDown)==null||c.apply(this,u)};var h=o(m),G=d(h);{var T=u=>{var c=Ae();M((q,z)=>{P(c,"cx",q),P(c,"cy",z),H(c,0,`${b[l.type]??""} fill-white stroke-2`)},[()=>D(l.type).cx,()=>D(l.type).cy]),y(u,c)};F(G,u=>{g(l.type)&&u(T)})}var X=d(G);E(X,17,()=>p(l.type),U,(u,c,q)=>{var z=Re();z.__pointerdown=I=>{var J;I.stopPropagation(),(J=l.onInputClick)==null||J.call(l,q,I)},M(()=>{P(z,"cx",t(c).x),P(z,"cy",t(c).y)}),y(u,z)});var k=d(X);k.__pointerdown=u=>{var c;u.stopPropagation(),(c=l.onOutputClick)==null||c.call(l,u)};var Q=d(k),W=o(Q,!0);i(Q),i(m),M((u,c,q)=>{P(m,"transform",`translate(${l.x??""},${l.y??""})`),P(h,"d",u),H(h,0,`${b[l.type]??""} stroke-2`),P(k,"cx",c),P(k,"cy",q),L(W,l.type)},[()=>w(l.type),()=>Y(l.type).x,()=>Y(l.type).y]),y(R,m),ht()}Mt(["pointerdown"]);var Pe=C('<button class="p-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all flex flex-col items-center gap-2 text-sm"><div class="w-12 h-10 relative"><div class="text-xs font-bold text-center mt-2"> </div></div> <span class="text-sm font-medium text-gray-600"> </span></button>'),Ce=$('<path fill="none" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"></path>'),Ge=$('<circle r="8" fill="none" stroke-width="3" class="opacity-80 pointer-events-none"></circle>'),Ie=C('<div class="absolute pointer-events-auto transform -translate-y-1/2"><div class="flex items-center gap-2"><div class="w-10 h-10 bg-white border-2 border-gray-800 rounded flex items-center justify-center font-bold text-lg shadow-sm"> </div> <div role="button" tabindex="0"></div></div></div>'),Le=C('<span class="absolute -top-2 -right-2 text-xs bg-yellow-400 text-yellow-900 px-1 rounded-full border border-yellow-500">Req</span>'),Me=C('<div class="absolute pointer-events-auto transform -translate-y-1/2 -translate-x-full"><div class="flex items-center gap-2 flex-row-reverse"><div class="w-10 h-10 bg-white border-2 border-gray-800 rounded flex items-center justify-center font-bold text-lg shadow-sm"> <!></div> <div class="w-8 h-8 sm:w-5 sm:h-5 bg-gray-200 border-2 border-gray-400 rounded-full cursor-pointer pointer-events-auto hover:bg-blue-200 hover:border-blue-500 transition-colors" role="button" tabindex="0"></div></div></div>'),Ye=C('<div><div class="font-mono mb-1 text-gray-500"></div> <div class="flex gap-2 font-bold"><div class="flex flex-col items-center"><span class="text-xs text-gray-400">IN</span> <span> </span></div> <div class="text-gray-300">→</div> <div class="flex flex-col items-center"><span class="text-xs text-gray-400">OUT</span> <span> </span></div></div> <div> </div></div>'),Qe=C('<div class="flex flex-wrap gap-3 sm:gap-4"></div>'),ze=C('<div class="border rounded p-1 text-xs text-center bg-gray-50"> </div>'),Be=C('<div class="text-gray-400 italic text-sm">Run simulation to see results.</div> <div class="grid grid-cols-3 sm:grid-cols-6 gap-2 mt-2 opacity-50"><!></div>',1),je=C('<button class="btn bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 shadow-lg">Next Level <!></button>'),qe=C('<button class="btn bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 shadow-lg">Finish Game</button>'),Ee=C(`<div class="absolute inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full text-center transform scale-100 transition-transform"><!> <h2 class="text-3xl font-bold text-gray-800 mb-2">Level Complete!</h2> <p class="text-gray-600 mb-6">You've successfully built the circuit!</p> <div class="flex justify-center gap-4"><button class="btn bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-lg">Stay Here</button> <!></div></div></div>`),Fe=C('<div class="flex flex-col h-[calc(100vh-80px)] bg-slate-50 relative overflow-hidden"><div class="bg-white border-b px-4 py-3 flex justify-between items-center shadow-sm z-10 sm:px-6 sm:py-4"><div class="flex items-center gap-2"><button class="md:hidden p-2 -ml-2 rounded-md text-gray-700 hover:bg-gray-100"><!></button> <div><h1 class="text-xl sm:text-2xl font-bold text-gray-800 flex items-center gap-2"> </h1> <p class="text-gray-600 text-xs sm:text-sm"> </p></div></div> <div class="flex gap-2 sm:gap-4"><button class="btn bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 sm:px-4 sm:py-2 rounded-lg flex items-center gap-2 text-sm"><!> <span class="hidden sm:inline">Reset</span></button> <button class="btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 sm:px-6 sm:py-2 rounded-lg flex items-center gap-2 shadow-lg text-sm"><!> <span class="hidden sm:inline">Test Circuit</span></button></div></div> <div class="flex-1 flex overflow-hidden"><div><h3 class="font-bold text-gray-700 mb-2">Components</h3> <!></div> <div class="flex-1 bg-slate-50 relative cursor-move overflow-hidden touch-none" role="application"><div class="absolute inset-0 opacity-10 pointer-events-none"></div> <div><svg class="w-full h-full pointer-events-none overflow-visible"><defs><marker id="arrowhead" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto"><polygon points="0 0, 6 2, 0 4" fill="#94a3b8"></polygon></marker></defs><!><!></svg> <div class="absolute inset-0 pointer-events-none overflow-visible"><!> <!></div> <svg class="absolute inset-0 w-full h-full pointer-events-none overflow-visible"></svg></div></div></div> <div class="bg-white border-t p-4 h-48 overflow-y-auto sm:h-60"><h3 class="font-bold text-gray-800 mb-2 text-lg">Truth Table</h3> <!></div> <!></div>');function Se(R,l){mt(l,!0);let b=A(0),w=A(Gt([])),g=A(Gt([])),D=A(null),p=A(null),Y=A(0),m=A(0),h=A(null),G=A(!1),T=A(!1),X=A(0),k=A(0),Q=A(!1),W=0,u=0,c=at(()=>gt[t(b)]),q=0,z=0,I=null;function J(r){return r instanceof MouseEvent?{clientX:r.clientX,clientY:r.clientY}:r.touches&&r.touches.length>0?{clientX:r.touches[0].clientX,clientY:r.touches[0].clientY}:{clientX:0,clientY:0}}function Yt(r){if(!I)return;const e=I.getBoundingClientRect(),s=J(r),n=s.clientX-e.left,v=s.clientY-e.top;if(f(Y,n-t(X)),f(m,v-t(k)),t(D)){r.preventDefault();const a=t(w).find(x=>x.id===t(D));a&&(a.x=t(Y)-q,a.y=t(m)-z)}else if(t(Q)){r.preventDefault();const a=s.clientX-W,x=s.clientY-u;f(X,t(X)+a),f(k,t(k)+x),W=s.clientX,u=s.clientY}}function Qt(r){if(t(T)&&I&&!r.composedPath().some(e=>{var s;return(s=e.classList)==null?void 0:s.contains("sidebar")})&&f(T,!1),r.target===I||r.target.tagName==="svg"){f(p,null),f(Q,!0);const e=J(r);W=e.clientX,u=e.clientY}}function _t(){f(D,null),f(Q,!1)}function zt(r){const e=crypto.randomUUID();f(w,[...t(w),{id:e,type:r,x:100+Math.random()*50,y:100+Math.random()*50,inputs:[]}],!0)}function Bt(r){f(w,t(w).filter(e=>e.id!==r),!0),f(g,t(g).filter(e=>e.from!==r&&e.to!==r),!0)}function wt(r){t(p)?t(p).type==="sink"?(Ot(r,t(p).id,t(p).index||0),f(p,null)):f(p,{id:r,type:"source"},!0):f(p,{id:r,type:"source"},!0)}function Nt(r,e){t(p)?t(p).type==="source"?(Ot(t(p).id,r,e),f(p,null)):f(p,{id:r,type:"sink",index:e},!0):f(p,{id:r,type:"sink",index:e},!0)}function Ot(r,e,s){r!==e&&(f(g,t(g).filter(n=>!(n.to===e&&n.toInputIndex===s)),!0),f(g,[...t(g),{from:r,to:e,toInputIndex:s}],!0))}function K(r,e,s=0){const n=t(c).inputs.find(x=>x.id===r);if(n)return{x:n.x+20,y:n.y};const v=t(c).outputs.find(x=>x.id===r);if(v)return{x:v.x,y:v.y};const a=t(w).find(x=>x.id===r);return a?e?a.type==="NOT"?{x:a.x+15,y:a.y+30}:{x:a.x+10,y:a.y+(s===0?15:45)}:["NOT","NAND","NOR"].includes(a.type)?{x:a.x+68,y:a.y+30}:a.type==="XOR"?{x:a.x+62,y:a.y+30}:{x:a.x+60,y:a.y+30}:{x:0,y:0}}function jt(){if(!t(c).truthTable)return;const r=t(c).truthTable.map(e=>{const s=Te(t(c),t(w),t(g),e.inputs);return{correct:s.every((v,a)=>v===e.outputs[a]),inputs:e.inputs,outputs:s,expected:e.outputs}});f(h,r,!0),r.every(e=>e.correct)&&f(G,!0)}function qt(){t(b)<gt.length-1&&(ce(b),kt())}function kt(){f(w,[],!0),f(g,[],!0),f(h,null),f(G,!1)}var tt=Fe();tt.__pointerdown=r=>{t(T)&&I&&!r.composedPath().some(e=>{var s;return(s=e.classList)==null?void 0:s.contains("sidebar")})&&f(T,!1),(r.target===I||r.target.tagName==="svg")&&f(p,null)};var ot=o(tt),nt=o(ot),et=o(nt);et.__click=()=>f(T,!t(T));var Et=o(et);{var Ft=r=>{me(r,{size:24})},St=r=>{he(r,{size:24})};F(Et,r=>{t(T)?r(Ft):r(St,!1)})}i(et);var Tt=d(et,2),lt=o(Tt),Zt=o(lt);i(lt);var At=d(lt,2),Ut=o(At,!0);i(At),i(Tt),i(nt);var Rt=d(nt,2),rt=o(Rt);rt.__click=kt;var Ht=o(rt);be(Ht,{size:16}),It(2),i(rt);var ut=d(rt,2);ut.__click=jt;var Jt=o(ut);Oe(Jt,{size:16}),It(2),i(ut),i(Rt),i(ot);var dt=d(ot,2),st=o(dt),Vt=d(o(st),2);E(Vt,17,()=>t(c).availableGates,U,(r,e)=>{var s=Pe();s.__click=()=>zt(t(e));var n=o(s),v=o(n),a=o(v,!0);i(v),i(n);var x=d(n,2),N=o(x);i(x),i(s),M(()=>{L(a,t(e)),L(N,`Add ${t(e)??""}`)}),y(r,s)}),i(st);var S=d(st,2);S.__pointerdown=Qt,S.__pointermove=Yt,S.__pointerup=_t;var Dt=o(S),ct=d(Dt,2),vt=o(ct),Xt=d(o(vt));E(Xt,17,()=>t(g),U,(r,e)=>{const s=at(()=>t(c).inputs.find(a=>a.id===t(e).from)?K(t(e).from,!1):K(t(e).from,!1)),n=at(()=>t(c).outputs.find(a=>a.id===t(e).to)?K(t(e).to,!0,t(e).toInputIndex):K(t(e).to,!0,t(e).toInputIndex));var v=Ce();M(()=>P(v,"d",`M ${t(s).x} ${t(s).y} C ${t(s).x+50} ${t(s).y}, ${t(n).x-50} ${t(n).y}, ${t(n).x} ${t(n).y}`)),y(r,v)});var Wt=d(Xt);{var Kt=r=>{const e=at(()=>K(t(p).id,t(p).type==="sink",t(p).index));var s=Ge();M(()=>{P(s,"cx",t(e).x),P(s,"cy",t(e).y),P(s,"stroke",t(p).type==="source"?"#3b82f6":"#ec4899")}),y(r,s)};F(Wt,r=>{t(p)&&r(Kt)})}i(vt);var ft=d(vt,2),Pt=o(ft);E(Pt,17,()=>t(c).inputs,U,(r,e)=>{var s=Ie(),n=o(s),v=o(n),a=o(v,!0);i(v);var x=d(v,2);x.__pointerdown=N=>{N.stopPropagation(),wt(t(e).id)},i(n),i(s),M(()=>{var N;it(s,`left: ${t(e).x??""}px; top: ${t(e).y??""}px;`),L(a,t(e).label),H(x,1,`w-8 h-8 sm:w-5 sm:h-5 border-2 rounded-full cursor-pointer pointer-events-auto transition-colors ${((N=t(p))==null?void 0:N.id)===t(e).id?"bg-blue-200 border-blue-500":"bg-gray-200 border-gray-400 hover:border-blue-500"}`)}),y(r,s)});var $t=d(Pt,2);E($t,17,()=>t(c).outputs,U,(r,e)=>{var s=Me(),n=o(s),v=o(n),a=o(v),x=d(a);{var N=_=>{var O=Le();y(_,O)};F(x,_=>{t(e).required&&_(N)})}i(v);var B=d(v,2);B.__pointerdown=_=>{_.stopPropagation(),Nt(t(e).id,0)},i(n),i(s),M(()=>{it(s,`left: ${t(e).x??""}px; top: ${t(e).y??""}px;`),L(a,`${t(e).label??""} `)}),y(r,s)}),i(ft);var Ct=d(ft,2);E(Ct,21,()=>t(w),r=>r.id,(r,e)=>{Xe(r,{get type(){return t(e).type},get x(){return t(e).x},get y(){return t(e).y},onPointerDown:s=>{var v;if(s.button===2){s.preventDefault(),Bt(t(e).id);return}const n=(v=s.target.closest("svg"))==null?void 0:v.getBoundingClientRect();if(n){const a=J(s);q=a.clientX-n.left-t(e).x,z=a.clientY-n.top-t(e).y}f(D,t(e).id,!0)},onInputClick:s=>Nt(t(e).id,s),onOutputClick:()=>wt(t(e).id)})}),i(Ct),i(ct),i(S),xe(S,r=>I=r,()=>I),i(dt);var pt=d(dt,2),te=d(o(pt),2);{var ee=r=>{var e=Qe();E(e,21,()=>t(h),U,(s,n,v)=>{var a=Ye(),x=o(a);x.textContent=`Case ${v+1}`;var N=d(x,2),B=o(N),_=d(o(B),2),O=o(_,!0);i(_),i(B);var V=d(B,4),j=d(o(V),2),xt=o(j,!0);i(j),i(V),i(N);var bt=d(N,2),ie=o(bt,!0);i(bt),i(a),M((Z,oe,ne)=>{H(a,1,`flex flex-col items-center p-2 rounded border ${t(n).correct?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} text-xs sm:text-sm`),L(O,Z),H(j,1,pe(t(n).correct?"text-green-700":"text-red-700")),L(xt,oe),H(bt,1,`text-xs mt-1 ${t(n).correct?"text-green-600":"text-red-600"}`),L(ie,ne)},[()=>t(n).inputs.map(Z=>Z?"1":"0").join(" "),()=>t(n).outputs.map(Z=>Z?"1":"0").join(" "),()=>t(n).correct?"Match":`Expected ${t(n).expected.map(Z=>Z?"1":"0").join(" ")}`]),y(s,a)}),i(e),y(r,e)},re=r=>{var e=Be(),s=d(yt(e),2),n=o(s);{var v=a=>{var x=Lt(),N=yt(x);E(N,17,()=>t(c).truthTable,U,(B,_)=>{var O=ze(),V=o(O);i(O),M((j,xt)=>L(V,`${j??""} → ${xt??""}`),[()=>t(_).inputs.map(j=>j?"1":"0").join(" "),()=>t(_).outputs.map(j=>j?"1":"0").join(" ")]),y(B,O)}),y(a,x)};F(n,a=>{t(c).truthTable&&a(v)})}i(s),y(r,e)};F(te,r=>{t(h)?r(ee):r(re,!1)})}i(pt);var se=d(pt,2);{var ae=r=>{var e=Ee(),s=o(e),n=o(s);_e(n,{class:"w-16 h-16 text-green-500 mx-auto mb-4"});var v=d(n,6),a=o(v);a.__click=()=>f(G,!1);var x=d(a,2);{var N=_=>{var O=je();O.__click=qt;var V=d(o(O));we(V,{class:"rotate-180",size:18}),i(O),y(_,O)},B=_=>{var O=qe();O.__click=()=>alert("You finished all levels! Great job!"),y(_,O)};F(x,_=>{t(b)<gt.length-1?_(N):_(B,!1)})}i(v),i(s),i(e),y(r,e)};F(se,r=>{t(G)&&r(ae)})}i(tt),M(()=>{L(Zt,`Level ${t(c).id??""}: ${t(c).title??""}`),L(Ut,t(c).description),H(st,1,`sidebar w-48 bg-white border-r p-4 flex-col gap-4 overflow-y-auto z-20 shadow-inner 
                        fixed h-full top-0 left-0 transition-transform duration-300 ease-in-out md:relative md:flex md:translate-x-0
                        ${t(T)?"flex translate-x-0":"hidden -translate-x-full"}`),it(Dt,`background-image: radial-gradient(#64748b 1px, transparent 1px); background-size: 20px 20px; background-position: ${t(X)??""}px ${t(k)??""}px;`),it(ct,`transform: translate(${t(X)??""}px, ${t(k)??""}px); width: 100%; height: 100%; pointer-events: none;`)}),le("pointerleave",S,_t),y(R,tt),ht()}Mt(["pointerdown","click","pointermove","pointerup"]);function or(R,l){mt(l,!1),de(()=>{Ne.set("Logic Lab")}),ue(),Se(R,{}),ht()}export{or as component};
