import{c as ge,a as v,d as _e,f as M,s as g,t as X}from"../chunks/BYmQm_K7.js";import{i as ye}from"../chunks/C7KLp8Ib.js";import{o as Y}from"../chunks/gQM_sqfA.js";import{f as Me,o as Z,v as F,C as j,A as _,x as y,y as q,F as r,B as p,a9 as we,z as u,D as d}from"../chunks/CkdW0rvu.js";import{I as ke,s as He,e as Ve,i as je,c as z}from"../chunks/DRk26lIn.js";import{i as H}from"../chunks/CWqDlYIa.js";import{t as ze,s as Ce}from"../chunks/CzwrTgOG.js";import{S as P}from"../chunks/DFfcadVj.js";import{T as Se}from"../chunks/tAGe-Rmz.js";import{l as Te,s as Ne}from"../chunks/CYp6EUhF.js";import{C as Ie}from"../chunks/BYZeGjKy.js";import{p as $e}from"../chunks/IdXIzJAH.js";function Ae(x,f){const l=Te(f,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.555.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const a=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];ke(x,Ne({name:"arrow-right"},()=>l,{get iconNode(){return a},children:(i,c)=>{var o=ge(),w=Me(o);He(w,f,"default",{}),v(i,o)},$$slots:{default:!0}}))}const Oe=x=>{const f=["+","-","Ã—"];x>2&&f.push("Ã·");const l=f[Math.floor(Math.random()*f.length)];let a=0,i=0,c=0;const o=10+x*5;switch(l){case"+":a=Math.floor(Math.random()*o)+1,i=Math.floor(Math.random()*o)+1,c=a+i;break;case"-":a=Math.floor(Math.random()*o)+1,i=Math.floor(Math.random()*a)+1,c=a-i;break;case"Ã—":a=Math.floor(Math.random()*(o/2))+1,i=Math.floor(Math.random()*10)+1,c=a*i;break;case"Ã·":i=Math.floor(Math.random()*10)+1,c=Math.floor(Math.random()*10)+1,a=i*c;break}return{num1:a,num2:i,operator:l,result:c}},Be=(x,f)=>{let l=[];f===1?l=[3]:f===2?l=[1]:f===3?l=Math.random()>.5?[0]:[2]:f===4?l=[3,Math.random()>.5?0:2]:f>=5&&(l=[1,Math.random()>.5?0:2]);const a=[{value:x.num1,type:"number",isHidden:!1},{value:x.operator,type:"operator",isHidden:!1},{value:x.num2,type:"number",isHidden:!1},{value:x.result,type:"result",isHidden:!1}],i=[];l.forEach(o=>{a[o].isHidden=!0,i.push(a[o].value)});const c=2+Math.floor(f/2);for(let o=0;o<c;o++)if(a[l[0]].type==="operator"){const V=["+","-","Ã—","Ã·"],m=V[Math.floor(Math.random()*V.length)];i.includes(m)||i.push(m)}else{let m=x.result+Math.floor(Math.random()*10)-5;m<0&&(m=Math.abs(m)+1),i.includes(m)||i.push(m)}for(let o=i.length-1;o>0;o--){const w=Math.floor(Math.random()*(o+1));[i[o],i[w]]=[i[w],i[o]]}return{puzzle:a,options:i}};var De=M('<div class="flex items-center gap-1 text-gray-500 text-xs"><!> <span> </span></div>'),Ee=M("<div><!></div>"),Fe=M("<button> </button>"),Pe=M('<span class="text-3xl sm:text-5xl font-bold text-gray-700"> </span>'),Re=M("<button> </button>"),Ge=M('<span class="text-3xl sm:text-5xl font-bold text-blue-500"> </span>'),Le=M("<button> </button>"),Ue=M('<span class="text-3xl sm:text-5xl font-bold text-gray-700"> </span>'),Je=M("<button> </button>"),Ke=M('<span class="text-3xl sm:text-5xl font-bold text-purple-600"> </span>'),Qe=M('<button class="bg-white hover:bg-gray-50 active:bg-blue-100 disabled:opacity-30 disabled:cursor-not-allowed disabled:bg-gray-100 p-4 rounded-xl shadow-md border-b-4 border-gray-200 active:border-blue-300 active:translate-y-1 transition-all text-xl sm:text-2xl font-bold text-gray-700 flex items-center justify-center h-16 sm:h-20"> </button>'),We=M('<div class="max-w-lg mx-auto p-4 flex flex-col items-center gap-6 min-h-[500px]"><div class="w-full flex justify-between items-center bg-white p-3 rounded-xl shadow-sm"><div class="flex items-center gap-2"><span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold uppercase"> </span></div> <!> <div class="flex items-center gap-2 text-green-600 font-bold"><!> <span> </span></div></div> <!> <div class="flex flex-wrap items-center justify-center gap-2 sm:gap-4 my-4 p-6 bg-white rounded-3xl shadow-lg w-full"><div class="flex items-center justify-center"><!></div> <div class="flex items-center justify-center"><!></div> <div class="flex items-center justify-center"><!></div> <span class="text-3xl sm:text-5xl font-bold text-gray-400">=</span> <div class="flex items-center justify-center"><!></div></div> <div class="w-full grid grid-cols-4 gap-3 sm:gap-4 mt-auto"></div> <button class="w-full py-4 rounded-xl font-bold text-xl shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed">Check <!></button></div>');function Xe(x,f){Z(f,!0);let l=F({score:0,highScore:0,level:1,failures:0}),a=j(F([])),i=j(F([])),c=j(null),o=j(null),w=j(0);Y(()=>{const t=P.load("math-fill");t&&(l.highScore=t.highScore,l.level=t.level||1,l.failures=t.failures||0),V()});function V(){const t=Oe(Math.ceil(l.level/2)),e=Be(t,l.level);p(a,e.puzzle.map(s=>({...s,userValue:null})),!0),p(i,e.options,!0),p(c,r(a).findIndex(s=>s.isHidden),!0),p(o,null)}function m(t){!r(a)[t].isHidden||r(o)||p(c,t,!0)}function R(t){return r(a).some(e=>e.isHidden&&e.userValue===t)}function ee(t){if(r(c)===null||r(o)||R(t))return;r(a)[r(c)].userValue=t;const e=r(a).findIndex((s,n)=>s.isHidden&&s.userValue===null&&n>r(c));if(e!==-1)p(c,e,!0);else{const s=r(a).findIndex(n=>n.isHidden&&n.userValue===null);p(c,s!==-1?s:r(c),!0)}}function te(){if(r(a).some(h=>h.isHidden&&h.userValue===null))return;const t=h=>{const E=r(a)[h];return E.isHidden?E.userValue:E.value},e=Number(t(0)),s=String(t(1)),n=Number(t(2)),k=Number(t(3));let b=0;switch(s){case"+":b=e+n;break;case"-":b=e-n;break;case"Ã—":b=e*n;break;case"Ã·":b=e/n;break;default:b=NaN}if(Math.abs(b-k)<.001){p(o,"correct"),we(w);const h=10*l.level+r(w)*5;l.score+=h,l.score>l.highScore&&(l.highScore=l.score),P.save("math-fill",l),r(w)%3===0&&l.level<10&&l.level++,setTimeout(V,1500)}else p(o,"wrong"),p(w,0),l.failures++,P.save("math-fill",l),setTimeout(()=>{p(o,null),p(a,r(a).map(h=>h.isHidden?{...h,userValue:null}:h),!0),p(c,r(a).findIndex(h=>h.isHidden),!0)},1e3)}var T=We(),N=u(T),I=u(N),G=u(I),re=u(G);d(G),d(I);var L=_(I,2);{var ae=t=>{var e=De(),s=u(e);Ie(s,{size:14,class:"text-red-400"});var n=_(s,2),k=u(n,!0);d(n),d(e),y(()=>g(k,l.failures)),v(t,e)};H(L,t=>{l.failures>0&&t(ae)})}var U=_(L,2),J=u(U);Se(J,{size:18});var K=_(J,2),se=u(K,!0);d(K),d(U),d(N);var Q=_(N,2);{var le=t=>{var e=Ee(),s=u(e);{var n=b=>{var S=X("Correct! Awesome! ðŸŽ‰");v(b,S)},k=b=>{var S=X("Oops! Try again. ðŸ’ª");v(b,S)};H(s,b=>{r(o)==="correct"?b(n):b(k,!1)})}d(e),y(()=>z(e,1,`w-full p-4 rounded-xl text-center font-bold text-lg shadow-md ${r(o)==="correct"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`)),ze(1,e,()=>Ce),v(t,e)};H(Q,t=>{r(o)&&t(le)})}var $=_(Q,2),A=u($),oe=u(A);{var ne=t=>{var e=Fe();e.__click=()=>m(0);var s=u(e,!0);d(e),y(()=>{z(e,1,`w-14 h-14 sm:w-20 sm:h-20 rounded-xl border-4 text-2xl sm:text-4xl font-bold flex items-center justify-center transition-all ${r(c)===0?"border-blue-500 bg-blue-50 ring-4 ring-blue-200":"border-dashed border-gray-300 bg-gray-50"}`),g(s,r(a)[0].userValue??"?")}),v(t,e)},ie=t=>{var e=Pe(),s=u(e,!0);d(e),y(()=>{var n;return g(s,(n=r(a)[0])==null?void 0:n.value)}),v(t,e)};H(oe,t=>{var e;(e=r(a)[0])!=null&&e.isHidden?t(ne):t(ie,!1)})}d(A);var O=_(A,2),de=u(O);{var ue=t=>{var e=Re();e.__click=()=>m(1);var s=u(e,!0);d(e),y(()=>{z(e,1,`w-12 h-12 sm:w-16 sm:h-16 rounded-xl border-4 text-2xl sm:text-4xl font-bold flex items-center justify-center transition-all ${r(c)===1?"border-blue-500 bg-blue-50 ring-4 ring-blue-200":"border-dashed border-gray-300 bg-gray-50"}`),g(s,r(a)[1].userValue??"?")}),v(t,e)},ce=t=>{var e=Ge(),s=u(e,!0);d(e),y(()=>{var n;return g(s,(n=r(a)[1])==null?void 0:n.value)}),v(t,e)};H(de,t=>{var e;(e=r(a)[1])!=null&&e.isHidden?t(ue):t(ce,!1)})}d(O);var B=_(O,2),fe=u(B);{var ve=t=>{var e=Le();e.__click=()=>m(2);var s=u(e,!0);d(e),y(()=>{z(e,1,`w-14 h-14 sm:w-20 sm:h-20 rounded-xl border-4 text-2xl sm:text-4xl font-bold flex items-center justify-center transition-all ${r(c)===2?"border-blue-500 bg-blue-50 ring-4 ring-blue-200":"border-dashed border-gray-300 bg-gray-50"}`),g(s,r(a)[2].userValue??"?")}),v(t,e)},xe=t=>{var e=Ue(),s=u(e,!0);d(e),y(()=>{var n;return g(s,(n=r(a)[2])==null?void 0:n.value)}),v(t,e)};H(fe,t=>{var e;(e=r(a)[2])!=null&&e.isHidden?t(ve):t(xe,!1)})}d(B);var W=_(B,4),me=u(W);{var be=t=>{var e=Je();e.__click=()=>m(3);var s=u(e,!0);d(e),y(()=>{z(e,1,`w-14 h-14 sm:w-20 sm:h-20 rounded-xl border-4 text-2xl sm:text-4xl font-bold flex items-center justify-center transition-all ${r(c)===3?"border-blue-500 bg-blue-50 ring-4 ring-blue-200":"border-dashed border-gray-300 bg-gray-50"}`),g(s,r(a)[3].userValue??"?")}),v(t,e)},pe=t=>{var e=Ke(),s=u(e,!0);d(e),y(()=>{var n;return g(s,(n=r(a)[3])==null?void 0:n.value)}),v(t,e)};H(me,t=>{var e;(e=r(a)[3])!=null&&e.isHidden?t(be):t(pe,!1)})}d(W),d($);var D=_($,2);Ve(D,21,()=>r(i),je,(t,e)=>{var s=Qe();s.__click=()=>ee(r(e));var n=u(s,!0);d(s),y(k=>{s.disabled=k,g(n,r(e))},[()=>R(r(e))]),v(t,s)}),d(D);var C=_(D,2);C.__click=te;var he=_(u(C));Ae(he,{}),d(C),d(T),y(t=>{g(re,`Level ${l.level??""}`),g(se,l.score),C.disabled=t},[()=>r(a).some(t=>t.isHidden&&t.userValue===null)||r(o)!==null]),v(x,T),q()}_e(["click"]);function dt(x,f){Z(f,!1),Y(()=>{$e.set("Math Detectives")}),ye(),Xe(x,{}),q()}export{dt as component};
